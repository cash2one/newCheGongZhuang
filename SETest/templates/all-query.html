<!DOCTYPE html>
<html>
    <head lang="en">
        <meta charset="UTF-8">
        <title>聚合搜索系统</title>
        <link href="static/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        <link href="static/css/bootstrap.min.css" rel="stylesheet" type="text/css">
        <link href="static/css/jquery-ui.min.css" rel="stylesheet" type="text/css">
        <script type="text/javascript" src="static/js/jquery.min.js"></script>
        <script type="text/javascript" src="static/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="static/js/query.js"></script>
        <script src="static/js/jquery-ui.min.js" type="text/javascript"></script>
	    <script type="text/javascript" src="static/js/jquery.json.min.js"></script>
        <script type="text/javascript" src="static/js/jquery.cookie.js"></script>

        <script type="text/javascript">
            $(function () {
                var index=0;
                if("{{content_type}}" == "5"|| "{{content_type}}"=="6"||"{{content_type}}"=="7"||"{{content_type}}"=="8"){
                    addFrame(index,"xgss");
                }else{
                    {% for search in search_dict %}
                        if("{{search_dict[search]}}" == "true" && "{{search}}"!="shen_ma" ){
                            addFrame(index,"{{search}}");
                            console.log(index++);
                        }
                    {% end %}
                }


            });

            function addFrame(index, search){
                var j = jQuery.noConflict();
                j(function(){
                    var cols = j("#fraset").attr("cols");
                    if(index==0){
                        j("#fraset").attr("cols", cols + "*");
                    }else{
                        j("#fraset").attr("cols", cols + ",*");
                    }
                    var frame = document.createElement("frame");
                    if("{{content_type}}" == "2"){
                     // frame.src = "/query?q={{searchword}}&"+search+"=true"+"&pn={{pn}}"+"&url_type=query";
                        switch(search) {
                            case "baidu":
                                frame.src = '{{url_dict.get("baidu")}}'.replace(/&amp;/g,"&");
                                break;
                            case "s360":
                                frame.src = '{{url_dict.get("s360")}}'.replace(/&amp;/g,"&");
                                break;
                            case "sogou":
                                frame.src = '{{url_dict.get("sogou")}}'.replace(/&amp;/g,"&");
                                break;
                            case "china_so":
                                frame.src = '{{url_dict.get("china_so")}}'.replace(/&amp;/g,"&");
                                break;
                            case "bing":
                                frame.src = '{{url_dict.get("bing")}}'.replace(/&amp;/g,"&");
                                break;
                            //case "shen_ma":
                               // frame.src = '{{url_dict.get("shen_ma")}}'.replace(/&amp;/g,"&");
                                //break;
                        }
                    }else if("{{content_type}}" == "1"){
                      //  frame.src = "/queryNews?q=+{{searchword}}+&"+search+"=true"+"&pn={{pn}}"+"&url_type=queryNews";
                        switch(search) {
                            case "baidu":
                                frame.src = '{{url_dict.get("baidu")}}'.replace(/&amp;/g,"&");
                                break;
                            case "s360":
                                frame.src = '{{url_dict.get("s360")}}'.replace(/&amp;/g,"&");
                                break;
                            case "sogou":
                                frame.src = '{{url_dict.get("sogou")}}'.replace(/&amp;/g,"&");
                                break;
                            case "china_so":
                                frame.src = '{{url_dict.get("china_so")}}'.replace(/&amp;/g,"&");
                                break;
                            case "bing":
                                frame.src = '/queryNews?bing=true';
                                break;
                           // case "shen_ma":
                              //  frame.src = '/queryNews?shen_ma=true;';
                               // break;
                        }
                    }else if("{{content_type}}" == "5"){
                      frame.src = "/queryQita?q=+{{searchword}}+&"+search+"=true"+"&pn={{pn}}"+"&url_type=queryQita&q_type=1";
		    }
                    else if("{{content_type}}" == "6"){
                        frame.src = "/queryQita?q=+{{searchword}}+&"+search+"=true"+"&pn={{pn}}"+"&url_type=queryQita&q_type=1";
		    }else if("{{content_type}}" == "7"){
                        frame.src = "/queryQita?q=+{{searchword}}+&"+search+"=true"+"&pn={{pn}}"+"&url_type=queryQita&q_type=2";
		    }else if("{{content_type}}" == "8"){
                        frame.src = "/queryQita?q=+{{searchword}}+&"+search+"=true"+"&pn={{pn}}"+"&url_type=queryQita&q_type=3";
                    }else if("{{content_type}}" == "3"){
                       // frame.src = "/queryPhoto?q=+{{searchword}}+&"+search+"=true"+"&pn={{pn}}"+"&url_type=queryPhoto";
                        switch(search) {
                            case "baidu":
                                frame.src = 'http://image.baidu.com/search/index?tn=baiduimage&ie=utf-8&word={{searchword}}';
                                break;
                            case "s360":
                                frame.src = 'http://image.so.com/i?q={{searchword}}&src=srp';
                                break;
                            case "sogou":
                                frame.src = 'http://pic.sogou.com/pics?query={{searchword}}&ie=utf8';
                                    frame.id = "1111";
                                    frame.name = "1111"
                                break;
                            case "china_so":
                                frame.src = 'http://image.chinaso.com/so?q={{searchword}}';
                                break;
                            case "bing":
                                frame.src = 'http://cn.bing.com/images/search?q={{searchword}}&go=Submit+Query&qs=bs&form=QBILPG';
                                break;
                            //case "shen_ma":
                               // frame.src = '/queryPhoto?shen_ma=true&q=111;';
                                //break;
                        }
                    }else if("{{content_type}}" == "4"){
                        frame.src = "/recommend?q=+{{searchword}}+&"+search+"=true"+"&pn={{pn}}"+"&url_type=recommend";
                    }
                    frame.scrolling = "auto";
                    j("#fraset")[0].appendChild(frame);
                    console.log(frame.src);
                   // alert(frame.src);
                });

            }

        </script>

        <style>
        .ui-autocomplete {
            max-height: 200px;
            overflow-y: auto;
            /* 防止水平滚动条 */
            overflow-x: hidden;
        }
        /* IE 6 不支持 max-height
        * 使用 height 代替，但是这会强制菜单总是显示为那个高度
        */
        * html .ui-autocomplete {
            height: 100px;
        }

        table tbody tr td{
            width: 175px;
            line-height: 22px;
        }
        a:hover{
            cursor:pointer;
        }
        </style>
    </head>




	<FRAMESET name="frabodys" id="fraset" cols="" frameborder="yes" framespacing="2" border="6" scrolling="auto" bordercolor="#FFFFFF">
		<!--<FRAME name=popl id="fra1" src="/query?q=+{{searchword}}+&baidu=true" scrolling="auto">

		<FRAME name=popm id="fra2" src="/query?q=+{{searchword}}+&searchParas=" scrolling="auto">

		<FRAME name=popr id="fra3" src="/query?q=+{{searchword}}+&searchParas=" scrolling="auto">-->
	</FRAMESET>

</html>
